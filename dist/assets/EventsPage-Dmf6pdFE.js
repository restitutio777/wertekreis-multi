import{c as D,u as le,g as c,j as e,C as v,i as ie,a as E,M as U,U as B,b as ce,e as w,r as de}from"./index-UPCPm7Xb.js";import{r as l}from"./vendor-Cu3A5fdw.js";import{A as G,i as z}from"./categories-C1PraM_-.js";import{f as xe,a as me}from"./dateFormatting-DVUp9hjQ.js";import{H as W,C as ue}from"./home-CzafomOg.js";import{P as S}from"./plus-BC8K4YLp.js";import{A as K}from"./alert-circle-Dl6xFNS-.js";import{L as he,S as pe,X as ge}from"./x-BytK9WAV.js";import{S as be}from"./search-B-EYLEKA.js";import{E as fe}from"./eye-CVLK1UUA.js";import{H as ve}from"./heart-DcPyuDa1.js";import{C as je,T as Ne}from"./trash-2-CQKD2b4n.js";import"./supabase-DM9F-q20.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=D("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=D("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=D("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);function He({onNavigate:j}){var I,V,M,O;const{t:s,i18n:o}=le(),[T,k]=l.useState([]),[C,A]=l.useState([]),[J,Q]=l.useState(!0),[h,i]=l.useState(null),[L,N]=l.useState(!1),[p,F]=l.useState("Alle"),[g,P]=l.useState(""),[x,Y]=l.useState(null),[q,$]=l.useState(!1),[a,ee]=l.useState(null),[se,b]=l.useState(!1),[we,te]=l.useState(null),[ke,re]=l.useState(!1),[d,m]=l.useState({title:{de:"",en:"",fr:""},description:{de:"",en:"",fr:""},event_date:"",event_time:"",location:{de:"",en:"",fr:""},category:"Gemeinschaft & echte Begegnung",created_by:"",image_url:"",max_attendees:void 0});l.useState(!1),l.useEffect(()=>{if(h){const t=setTimeout(()=>i(null),5e3);return()=>clearTimeout(t)}},[h]),l.useEffect(()=>{(async()=>{try{const{data:r}=await ce.getCurrentUser();Y(r.user);const{data:n,error:u}=await w.getEvents();u?(console.error("Error loading events:",u),i({type:"error",text:`${s("errors.unexpectedError")}: ${u.message}`})):(k(n||[]),A(n||[]),n&&n.length>0?i({type:"success",text:`${n.length} ${s("events.eventsFound")}`}):i({type:"info",text:s("events.noEvents")}))}catch(r){console.error("Error loading data:",r),i({type:"error",text:s("errors.unexpectedError")})}finally{Q(!1)}})()},[]),l.useEffect(()=>{let t=T;if(p!=="Alle"&&(t=t.filter(r=>r.category===p)),g.trim()){const r=g.toLowerCase();t=t.filter(n=>c(n.title,o.language).toLowerCase().includes(r)||c(n.description,o.language).toLowerCase().includes(r)||c(n.location,o.language).toLowerCase().includes(r)||n.category.toLowerCase().includes(r))}A(t)},[T,p,g,o.language]);const ae=async t=>{if(t.preventDefault(),!x){i({type:"error",text:s("errors.loginRequired")});return}const r=c(d.title,o.language),n=c(d.description,o.language),u=c(d.location,o.language);if(!r.trim()||!n.trim()||!d.event_date||!d.event_time||!u.trim()){i({type:"error",text:s("errors.fillAllFields")});return}$(!0),i(null);try{const f={...d,created_by:x.id},{data:Ce,error:_}=await w.createEvent(f);if(_)console.error("Error creating event:",_),i({type:"error",text:`${s("errors.unexpectedError")}: ${_.message}`});else{i({type:"success",text:s("events.eventCreated")}),m({title:{de:"",en:"",fr:""},description:{de:"",en:"",fr:""},event_date:"",event_time:"",location:{de:"",en:"",fr:""},category:"Gemeinschaft & echte Begegnung",created_by:x.id,image_url:"",max_attendees:void 0}),N(!1);const{data:oe}=await w.getEvents();k(oe||[])}}catch(f){console.error("Error creating event:",f),i({type:"error",text:s("errors.unexpectedError")})}finally{$(!1)}},y=async(t,r)=>{if(!x){i({type:"error",text:s("errors.loginRequired")});return}try{const{error:n}=await de.createOrUpdateRSVP(t,x.id,r);if(n)i({type:"error",text:`${s("errors.unexpectedError")}: ${n.message}`});else{i({type:"success",text:s(r==="attending"?"events.rsvp.attending":r==="maybe"?"events.rsvp.maybe":"events.rsvp.notAttending")});const{data:u}=await w.getEvents();k(u||[])}}catch(n){console.error("Error with RSVP:",n),i({type:"error",text:s("errors.unexpectedError")})}},ne=t=>{te(t),m({title:typeof t.title=="string"?{de:t.title,en:"",fr:""}:t.title,description:typeof t.description=="string"?{de:t.description,en:"",fr:""}:t.description,event_date:t.event_date,event_time:t.event_time,location:typeof t.location=="string"?{de:t.location,en:"",fr:""}:t.location,category:t.category,website_link:t.website_link||"",contact_info:t.contact_info||"",max_attendees:t.max_attendees||void 0,image_url:t.image_url||"",created_by:t.created_by||""}),re(!0),b(!1)},R=t=>xe(t),H=t=>me(t);return J?e.jsxs("div",{className:"min-h-screen bg-cream flex items-center justify-center relative",children:[e.jsxs("div",{className:"fixed inset-0 z-0",children:[e.jsx("img",{src:"/topglobe copy.jpg",alt:"Werteâ€¢Kreis Background",className:"w-full h-full object-cover object-center sm:object-center lg:object-center",style:{imageRendering:"crisp-edges",filter:"contrast(1.1) brightness(1.05) saturate(1.1)",transform:"scale(1.1)",transformOrigin:"center center"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-akaroa-100/60 via-akaroa-200/60 to-akaroa-300/70"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-rhino/8 via-transparent to-walnut/12"})]}),e.jsxs("div",{className:"relative z-10 text-center space-y-4",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-rhino mx-auto"}),e.jsx("p",{className:"text-rhino font-medium",children:s("common.loading")})]})]}):e.jsxs("div",{className:"min-h-screen bg-cream relative",children:[e.jsxs("div",{className:"fixed inset-0 z-0",children:[e.jsx("img",{src:"/topglobe copy.jpg",alt:"Werteâ€¢Kreis Background",className:"w-full h-full object-cover object-center sm:object-center lg:object-center",style:{imageRendering:"crisp-edges",filter:"contrast(1.1) brightness(1.05) saturate(1.1)",transform:"scale(1.1)",transformOrigin:"center center"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-akaroa-100/60 via-akaroa-200/60 to-akaroa-300/70"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-rhino/8 via-transparent to-walnut/12"})]}),e.jsx("div",{className:"bg-gradient-to-r from-rhino-900/70 to-rhino-800/70 backdrop-blur-[15px] shadow-glass-nav border-b border-rhino-700/50 relative z-10",children:e.jsx("div",{className:"max-w-md mx-auto px-6 py-5",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>j("home"),className:"p-2 hover:bg-rhino-700/80 backdrop-blur-[5px] rounded-lg transition-all duration-200 active:scale-95 lg:flex hidden shadow-glass-button-sm",title:"ZurÃ¼ck zur Startseite",children:e.jsx(W,{size:20,className:"text-cream"})}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(v,{size:24,className:"text-cream"}),e.jsx("h1",{className:"text-2xl font-medium font-logo text-cream tracking-wide",children:s("events.title")})]})]}),x&&e.jsx("button",{onClick:()=>{N(!0),setTimeout(()=>{const t=document.querySelector("[data-event-form]");t&&t.scrollIntoView({behavior:"smooth",block:"start"})},100)},className:"p-2 rounded-lg transition-all duration-200 backdrop-blur-[5px] shadow-glass-button-sm hover:shadow-glass-button bg-white/15 text-white hover:bg-white/25 active:scale-95",children:e.jsx(S,{size:24})})]})})}),e.jsxs("div",{className:"max-w-md lg:max-w-3xl mx-auto px-3 py-6 pb-24 md:px-6 space-y-6 relative z-10",children:[e.jsx("div",{className:"lg:flex hidden",children:e.jsxs("button",{onClick:()=>j("home"),className:"bg-akaroa-100/70 backdrop-blur-[8px] text-rhino hover:bg-akaroa-200/80 rounded-lg transition-all duration-200 p-2 flex items-center space-x-2 shadow-glass-button hover:shadow-glass-button-hover border border-sandstone-300/50 hover:border-sandstone-300/60 transform hover:scale-[1.02]",title:"ZurÃ¼ck zur Startseite",children:[e.jsx(W,{size:20}),e.jsx("span",{className:"text-sm font-medium",children:"Startseite"})]})}),h&&e.jsxs("div",{className:`rounded-lg p-4 flex items-center space-x-3 backdrop-blur-[5px] ${h.type==="success"?"bg-success-50/80 text-success-700 border border-success-200/70":h.type==="error"?"bg-error-50/80 text-error-700 border border-error-200/70":"bg-desert-50/80 text-desert-700 border border-desert-200/70"}`,children:[h.type==="success"&&e.jsx(ue,{size:20,className:"text-success-600"}),h.type==="error"&&e.jsx(K,{size:20,className:"text-error-600"}),h.type==="info"&&e.jsx(K,{size:20,className:"text-desert-600"}),e.jsx("span",{className:"text-sm font-medium text-rhino",children:h.text})]}),!ie,e.jsx("div",{className:"bg-akaroa-100/70 backdrop-blur-[10px] rounded-lg p-4 border border-sandstone-300/50 shadow-glass-card",children:x?e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-sm text-desert text-center leading-relaxed",children:s("events.loggedInDescription")}),e.jsxs("div",{className:"bg-akaroa/60 rounded-lg p-4 border border-sandstone-300/40 shadow-md",children:[e.jsxs("h4",{className:"text-base font-semibold font-logo text-rhino mb-3",children:["ðŸ” ",s("events.guide.discover"),":"]}),e.jsxs("ul",{className:"text-sm text-walnut space-y-2",children:[e.jsxs("li",{children:["â€¢ ",e.jsxs("strong",{children:[s("events.guide.discover"),":"]})," ",s("events.guide.discoverDesc")]}),e.jsxs("li",{children:["â€¢ ",e.jsxs("strong",{children:[s("events.guide.participate"),":"]})," ",s("events.guide.participateDesc")]}),e.jsxs("li",{children:["â€¢ ",e.jsxs("strong",{children:[s("events.guide.create"),":"]})," ",s("events.guide.createDesc")]}),e.jsxs("li",{children:["â€¢ ",e.jsxs("strong",{children:[s("events.guide.filter"),":"]})," ",s("events.guide.filterDesc")]})]})]})]}):e.jsxs("div",{className:"text-center space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"text-lg font-semibold font-logo text-rhino",children:s("events.discoverDescription")}),e.jsx("p",{className:"text-sm text-desert leading-relaxed",children:s("events.discoverDescription")})]}),e.jsxs("div",{className:"bg-akaroa/60 rounded-lg p-4 border border-sandstone-300/40 shadow-md",children:[e.jsxs("h4",{className:"text-base font-semibold font-logo text-rhino mb-3",children:["ðŸ’« ",s("events.guide.discover"),":"]}),e.jsxs("ul",{className:"text-sm text-walnut space-y-2 text-left",children:[e.jsxs("li",{children:["â€¢ ",e.jsxs("strong",{children:[s("events.guide.discover"),":"]})," ",s("events.guide.discoverDesc")]}),e.jsxs("li",{children:["â€¢ ",e.jsxs("strong",{children:[s("events.guide.participate"),":"]})," ",s("events.guide.participateDesc")]}),e.jsxs("li",{children:["â€¢ ",e.jsxs("strong",{children:[s("events.guide.create"),":"]})," ",s("events.guide.createDesc")]}),e.jsxs("li",{children:["â€¢ ",e.jsxs("strong",{children:[s("events.guide.filter"),":"]})," ",s("events.guide.filterDesc")]})]})]}),e.jsxs("button",{onClick:()=>j("auth"),className:"bg-rhino/70 backdrop-blur-[8px] text-white py-3 px-8 rounded-xl font-semibold shadow-glass-button hover:shadow-glass-button-hover transform hover:scale-[1.02] transition-all duration-200 flex items-center justify-center space-x-2 mx-auto border border-rhino-700/50 hover:border-rhino-700/60",children:[e.jsx(E,{size:20}),e.jsx("span",{children:s("events.loginToCreate")})]})]})}),L&&x&&e.jsxs("div",{"data-event-form":!0,className:"bg-cream/70 backdrop-blur-[15px] rounded-xl p-6 shadow-glass-card border border-sandstone-300/50",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[e.jsx(S,{size:20,className:"text-rhino"}),e.jsx("h3",{className:"font-medium font-logo text-rhino",children:s("events.createEvent")})]}),e.jsxs("form",{onSubmit:ae,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-walnut mb-2",children:[s("events.eventTitle")," *"]}),e.jsx("input",{type:"text",value:c(d.title,o.language),onChange:t=>m(r=>({...r,title:{...r.title,[o.language]:t.target.value}})),className:"w-full px-4 py-3 bg-cream/80 backdrop-blur-[5px] border border-sandstone-300/60 rounded-lg focus:outline-none focus:ring-2 focus:ring-rhino focus:border-transparent transition-all duration-200",placeholder:s("events.titlePlaceholder"),required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-walnut mb-2",children:[s("events.description")," *"]}),e.jsx("textarea",{value:c(d.description,o.language),onChange:t=>m(r=>({...r,description:{...r.description,[o.language]:t.target.value}})),className:"w-full px-4 py-3 bg-cream/80 backdrop-blur-[5px] border border-sandstone-300/60 rounded-lg focus:outline-none focus:ring-2 focus:ring-rhino focus:border-transparent transition-all duration-200 resize-none",rows:3,placeholder:s("events.descriptionPlaceholder"),required:!0})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-walnut mb-2",children:[s("events.date")," *"]}),e.jsx("input",{type:"date",value:d.event_date,onChange:t=>m(r=>({...r,event_date:t.target.value})),className:"w-full px-4 py-3 bg-cream/80 backdrop-blur-[5px] border border-sandstone-300/60 rounded-lg focus:outline-none focus:ring-2 focus:ring-rhino focus:border-transparent transition-all duration-200",min:new Date().toISOString().split("T")[0],required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-walnut mb-2",children:[s("events.time")," *"]}),e.jsx("input",{type:"time",value:d.event_time,onChange:t=>m(r=>({...r,event_time:t.target.value})),className:"w-full px-4 py-3 bg-cream/80 backdrop-blur-[5px] border border-sandstone-300/60 rounded-lg focus:outline-none focus:ring-2 focus:ring-rhino focus:border-transparent transition-all duration-200",required:!0})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-walnut mb-2",children:[s("events.location")," *"]}),e.jsx("input",{type:"text",value:c(d.location,o.language),onChange:t=>m(r=>({...r,location:{...r.location,[o.language]:t.target.value}})),className:"w-full px-4 py-3 bg-cream/80 backdrop-blur-[5px] border border-sandstone-300/60 rounded-lg focus:outline-none focus:ring-2 focus:ring-rhino focus:border-transparent transition-all duration-200",placeholder:s("events.locationPlaceholder"),required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-walnut mb-2",children:s("events.category")}),e.jsxs("select",{value:d.category,onChange:t=>m(r=>({...r,category:t.target.value})),className:"w-full px-4 py-3 bg-cream/80 backdrop-blur-[5px] border border-sandstone-300/60 rounded-lg focus:outline-none focus:ring-2 focus:ring-rhino focus:border-transparent transition-all duration-200",children:[e.jsx("option",{value:"",children:s("events.selectCategory")}),G.map(t=>e.jsx("option",{value:t,children:s(t)},t))]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-walnut mb-2",children:[s("events.website")," (",s("common.optional"),")"]}),e.jsx("input",{type:"url",value:d.website_link||"",onChange:t=>m(r=>({...r,website_link:t.target.value})),className:"w-full px-4 py-3 bg-cream/80 backdrop-blur-[5px] border border-sandstone-300/60 rounded-lg focus:outline-none focus:ring-2 focus:ring-rhino focus:border-transparent transition-all duration-200",placeholder:"https://..."})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-walnut mb-2",children:[s("events.contact")," (",s("common.optional"),")"]}),e.jsx("input",{type:"text",value:d.contact_info||"",onChange:t=>m(r=>({...r,contact_info:t.target.value})),className:"w-full px-4 py-3 bg-cream/80 backdrop-blur-[5px] border border-sandstone-300/60 rounded-lg focus:outline-none focus:ring-2 focus:ring-rhino focus:border-transparent transition-all duration-200",placeholder:s("events.contactPlaceholder")})]}),e.jsxs("div",{className:"flex space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>N(!1),className:"flex-1 bg-walnut/10 text-walnut py-3 px-6 rounded-lg font-medium hover:bg-walnut/20 transition-colors duration-200",children:s("common.cancel")}),e.jsx("button",{type:"submit",disabled:q,className:"flex-1 bg-rhino/70 backdrop-blur-[8px] text-cream py-3 px-6 rounded-lg font-medium shadow-glass-button hover:shadow-glass-button-hover transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2 border border-rhino-700/50 hover:border-rhino-700/60 transform hover:scale-[1.02] disabled:transform-none",children:q?e.jsxs(e.Fragment,{children:[e.jsx(he,{size:18,className:"animate-spin"}),e.jsx("span",{children:s("events.creating")})]}):e.jsxs(e.Fragment,{children:[e.jsx(pe,{size:18}),e.jsx("span",{children:s("events.createEvent")})]})})]})]})]}),e.jsxs("div",{className:"bg-cream/70 backdrop-blur-[15px] rounded-xl p-4 shadow-glass-card border border-sandstone-300/50 space-y-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(be,{size:18,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-walnut"}),e.jsx("input",{type:"text",value:g,onChange:t=>P(t.target.value),className:"w-full pl-10 pr-4 py-3 bg-cream/80 backdrop-blur-[5px] border border-sandstone-300/60 rounded-lg focus:outline-none focus:ring-2 focus:ring-rhino focus:border-transparent transition-all duration-200",placeholder:s("events.searchEvents")})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-walnut mb-2",children:s("events.category")}),e.jsxs("select",{value:p,onChange:t=>F(t.target.value),className:"w-full px-4 py-3 bg-cream/80 backdrop-blur-[5px] border border-sandstone-300/60 rounded-lg focus:outline-none focus:ring-2 focus:ring-rhino focus:border-transparent transition-all duration-200",children:[e.jsx("option",{value:"Alle",children:s("common.all")}),G.map(t=>e.jsx("option",{value:t,children:z(t)?s(t):t},t))]})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-walnut",children:[e.jsxs("span",{children:[C.length," ",s("events.eventsFound")]}),(p!=="Alle"||g)&&e.jsx("button",{onClick:()=>{F("Alle"),P("")},className:"text-desert hover:text-desert/80 underline",children:s("common.resetFilters")})]})]}),e.jsx("div",{className:"grid grid-cols-1 gap-4",children:C.length===0?e.jsxs("div",{className:"bg-cream/70 backdrop-blur-[15px] rounded-xl p-8 shadow-glass-card border border-sandstone-300/50 text-center",children:[e.jsx(v,{size:48,className:"text-walnut mx-auto mb-4"}),e.jsx("p",{className:"text-walnut text-sm",children:s(g||p!=="Alle"?"events.tryOtherFilters":"events.noEvents")}),!g&&p==="Alle"&&e.jsx("div",{className:"mt-6",children:x?e.jsxs("button",{onClick:()=>{N(!0),setTimeout(()=>{const t=document.querySelector("[data-event-form]");t&&t.scrollIntoView({behavior:"smooth",block:"start"})},100)},className:"bg-rhino/70 backdrop-blur-[8px] text-white py-3 px-6 rounded-lg font-medium shadow-glass-button hover:shadow-glass-button-hover transform hover:scale-[1.02] transition-all duration-200 flex items-center justify-center space-x-2 mx-auto border border-rhino-700/50 hover:border-rhino-700/60",children:[e.jsx(S,{size:18}),e.jsx("span",{children:s("events.createEvent")})]}):e.jsxs("button",{onClick:()=>j("auth"),className:"bg-rhino/70 backdrop-blur-[8px] text-white py-3 px-6 rounded-lg font-medium shadow-glass-button hover:shadow-glass-button-hover transform hover:scale-[1.02] transition-all duration-200 flex items-center justify-center space-x-2 mx-auto border border-rhino-700/50 hover:border-rhino-700/60",children:[e.jsx(E,{size:18}),e.jsx("span",{children:s("events.loginToCreate")})]})})]}):C.map(t=>{var r,n,u,f;return e.jsxs("div",{className:"bg-white/90 backdrop-blur-[10px] rounded-xl p-6 shadow-glass-card border border-sandstone-200/80 hover:shadow-glass-card-hover transition-all duration-200 flex flex-col",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold font-logo text-rhino mb-2",children:c(t.title,o.language)}),e.jsx("div",{className:"flex items-center space-x-2 mb-3",children:e.jsx("span",{className:"bg-desert/20 text-desert px-2 py-1 rounded text-xs font-medium",children:z(t.category)?s(t.category):t.category})}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-walnut",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(v,{size:16,className:"text-rhino"}),e.jsx("span",{children:R(t.event_date)})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Z,{size:16,className:"text-rhino"}),e.jsx("span",{children:H(t.event_time)})]})]}),e.jsxs("div",{className:"flex items-center space-x-1 text-sm text-walnut",children:[e.jsx(U,{size:16,className:"text-rhino"}),e.jsx("span",{children:c(t.location,o.language)})]})]})]}),e.jsx("div",{className:"flex-1 mb-4",children:e.jsx("p",{className:"text-walnut text-sm mb-4 line-clamp-3",children:c(t.description,o.language)})}),e.jsxs("div",{className:"flex items-center justify-between mb-4 text-sm text-walnut",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(E,{size:16,className:"text-walnut"}),e.jsx("span",{children:((r=t.creator_profile)==null?void 0:r.display_name)||((n=t.creator_profile)==null?void 0:n.username)||s("common.unknown")})]}),t.rsvp_count&&e.jsxs("div",{className:"flex items-center space-x-1 text-desert",children:[e.jsx(B,{size:16}),e.jsx("span",{className:"font-medium",children:((f=(u=t.rsvp_count)==null?void 0:u[0])==null?void 0:f.count)||0})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:()=>{ee(t),b(!0)},className:"flex-1 bg-desert/10 text-desert py-2 px-4 rounded-lg font-medium hover:bg-desert/20 transition-colors duration-200 flex items-center justify-center space-x-2",children:[e.jsx(fe,{size:16}),e.jsx("span",{children:s("events.details")})]}),x&&e.jsxs("button",{onClick:()=>y(t.id,"attending"),className:"flex-1 bg-success-50 text-success-700 py-2 px-4 rounded-lg font-medium hover:bg-success-100 transition-colors duration-200 flex items-center justify-center space-x-2",children:[e.jsx(ve,{size:16}),e.jsx("span",{children:s("events.attend")})]}),t.website_link&&e.jsx("button",{onClick:()=>window.open(t.website_link,"_blank"),className:"bg-desert/10 text-desert py-2 px-3 rounded-lg hover:bg-desert/20 transition-colors duration-200",children:e.jsx(X,{size:16})})]})]},t.id)})})]}),se&&a&&e.jsx("div",{className:"fixed inset-0 bg-charcoal/60 backdrop-blur-md z-50 flex items-center justify-center p-4 overflow-y-auto",children:e.jsxs("div",{className:"bg-cream/90 backdrop-blur-[15px] rounded-xl max-w-md w-full shadow-glass-card my-8 max-h-[90vh] overflow-y-auto border border-sandstone-300/50",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-sandstone-300/50 bg-akaroa-100/60 backdrop-blur-[10px] shadow-glass-summary",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(v,{size:20,className:"text-rhino"}),e.jsx("h3",{className:"font-medium font-logo text-rhino",children:s("events.details")})]}),e.jsx("button",{onClick:()=>b(!1),className:"p-2 hover:bg-akaroa-100/70 backdrop-blur-[5px] rounded-lg transition-all duration-200 shadow-glass-button-sm",children:e.jsx(ge,{size:20,className:"text-walnut"})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"text-rhino",children:[e.jsx("h2",{className:"text-xl font-semibold font-logo mb-4",children:c(a.title,o.language)}),e.jsxs("div",{className:"space-y-3 mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(v,{size:18,className:"text-rhino"}),e.jsx("span",{className:"text-walnut",children:R(a.event_date)})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Z,{size:18,className:"text-rhino"}),e.jsx("span",{className:"text-walnut",children:H(a.event_time)})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(U,{size:18,className:"text-rhino"}),e.jsx("span",{className:"text-walnut",children:c(a.location,o.language)})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(ye,{size:18,className:"text-rhino"}),e.jsx("span",{className:"text-walnut",children:z(a.category)?s(a.category):s("events.unknownCategory")})]})]}),e.jsxs("div",{className:"bg-akaroa-100/70 backdrop-blur-[5px] rounded-lg p-4 shadow-glass-summary border border-akaroa-200/50",children:[e.jsx("h4",{className:"font-medium font-logo text-rhino mb-2",children:s("events.description")}),e.jsx("p",{className:"text-walnut leading-relaxed",children:c(a.description,o.language)})]}),e.jsxs("div",{className:"bg-desert/20 backdrop-blur-[5px] rounded-lg p-4 shadow-glass-summary border border-desert/30",children:[e.jsx("h4",{className:"font-medium font-logo text-rhino mb-2",children:s("events.organizer")}),e.jsx("p",{className:"text-walnut",children:((I=a.creator_profile)==null?void 0:I.display_name)||((V=a.creator_profile)==null?void 0:V.username)||s("common.unknown")}),a.contact_info&&e.jsxs("p",{className:"text-sm text-walnut mt-1",children:[s("events.contact"),": ",a.contact_info]})]}),a.rsvp_count&&e.jsxs("div",{className:"flex items-center space-x-2 text-success-700 bg-success-50/80 backdrop-blur-[5px] rounded-lg p-3 shadow-glass-summary border border-success-200/50",children:[e.jsx(B,{size:18}),e.jsxs("span",{className:"font-medium",children:[((O=(M=a.rsvp_count)==null?void 0:M[0])==null?void 0:O.count)||0," ",s("events.peopleAttending")]})]})]}),e.jsxs("div",{className:"space-y-3",children:[x&&a.created_by===x.id&&e.jsxs("div",{className:"flex space-x-2 mb-4",children:[e.jsxs("button",{onClick:()=>ne(a),className:"flex-1 bg-desert/10 text-desert py-2 px-4 rounded-lg font-medium hover:bg-desert/20 transition-colors duration-200 flex items-center justify-center space-x-2",children:[e.jsx(je,{size:16}),e.jsx("span",{children:s("common.edit")})]}),e.jsxs("button",{onClick:()=>{window.confirm(s("events.confirmDelete"))&&i({type:"info",text:s("events.deleteComingSoon")})},className:"flex-1 bg-error-50 text-error-700 py-2 px-4 rounded-lg font-medium hover:bg-error-100 transition-colors duration-200 flex items-center justify-center space-x-2",children:[e.jsx(Ne,{size:16}),e.jsx("span",{children:s("common.delete")})]})]}),x&&e.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[e.jsx("button",{onClick:()=>{y(a.id,"attending"),b(!1)},className:"bg-success-50 text-success-700 py-3 px-4 rounded-lg font-medium hover:bg-success-100 transition-colors duration-200 text-sm",children:s("events.attend")}),e.jsx("button",{onClick:()=>{y(a.id,"maybe"),b(!1)},className:"bg-warning-50 text-warning-700 py-3 px-4 rounded-lg font-medium hover:bg-warning-100 transition-colors duration-200 text-sm",children:s("events.maybe")}),e.jsx("button",{onClick:()=>{y(a.id,"not_attending"),b(!1)},className:"bg-error-50 text-error-700 py-3 px-4 rounded-lg font-medium hover:bg-error-100 transition-colors duration-200 text-sm",children:s("events.notAttending")})]}),a.website_link&&e.jsxs("button",{onClick:()=>window.open(a.website_link,"_blank"),className:"w-full bg-desert/20 backdrop-blur-[5px] text-desert py-3 px-6 rounded-lg font-medium hover:bg-desert/30 transition-all duration-200 flex items-center justify-center space-x-2 shadow-glass-button hover:shadow-glass-button-hover border border-desert/30 hover:border-desert/40",children:[e.jsx(X,{size:18}),e.jsx("span",{children:s("events.visitWebsite")})]})]})]})]})})]})}export{He as default};
