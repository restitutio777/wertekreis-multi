import{c as ne,u as le,j as e,M as ie,i as ce,g as v,U as de,s as _,p as me}from"./index-UPCPm7Xb.js";import{r as l}from"./vendor-Cu3A5fdw.js";import{M as ue,T as xe,a as A,P as L,L as D,u as pe,b as he}from"./maps-Bq_Hu_wL.js";import{A as W,i as Z}from"./categories-C1PraM_-.js";import{f as ge}from"./dateFormatting-DVUp9hjQ.js";import{H as X,C as be}from"./home-CzafomOg.js";import{P as Y}from"./plus-BC8K4YLp.js";import{A as J}from"./alert-circle-Dl6xFNS-.js";import{L as I,X as fe,S as je}from"./x-BytK9WAV.js";import"./supabase-DM9F-q20.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=ne("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);delete D.Icon.Default.prototype._getIconUrl;D.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-shadow.png"});const z=p=>D.divIcon({className:"custom-marker",html:`<div style="background-color: ${p}; width: 25px; height: 25px; border-radius: 50%; border: 3px solid white; box-shadow: 0 2px 8px rgba(0,0,0,0.3); display: flex; align-items: center; justify-content: center;">
      <div style="color: white; font-size: 12px;">üìç</div>
    </div>`,iconSize:[25,25],iconAnchor:[12,12]});function ve({onMapClick:p}){return pe({click:s=>{p(s.latlng.lat,s.latlng.lng)}}),null}function Ne({center:p,radius:s}){const d=he(),h=u=>u<=10?12:u<=25?11:u<=50?10:u<=100?9:u<=200?8:u<=500?7:6;return l.useEffect(()=>{const u=h(s);d.setView(p,u)},[p,s,d]),null}function ze({onNavigate:p}){const{t:s,i18n:d}=le(),[h,u]=l.useState(333),[w,K]=l.useState(""),[N,P]=l.useState([]),[k,y]=l.useState(!1),[ee,F]=l.useState(!1),[R,T]=l.useState(!1),[O,S]=l.useState(!0),[U,C]=l.useState(null),[b,M]=l.useState(null),[E,q]=l.useState(!1),[g,i]=l.useState(null),[c,se]=l.useState(null),[m,te]=l.useState([51.4449,8.3485]),[x,f]=l.useState({name:{de:"",en:"",fr:""},description:{de:"",en:"",fr:""},latitude:51.4449,longitude:8.3485,interest:""}),$=(t,r,n,a)=>{const j=(n-t)*Math.PI/180,B=(a-r)*Math.PI/180,V=Math.sin(j/2)*Math.sin(j/2)+Math.cos(t*Math.PI/180)*Math.cos(n*Math.PI/180)*Math.sin(B/2)*Math.sin(B/2);return 6371*(2*Math.atan2(Math.sqrt(V),Math.sqrt(1-V)))};l.useEffect(()=>{(()=>{if(console.log("üó∫Ô∏è MapSearchPage: Starting geolocation process..."),!navigator.geolocation){console.error("‚ùå Geolocation not supported by this browser"),i({type:"info",text:s("map.geolocationNotSupported")}),S(!1);return}console.log("üìç Geolocation API available, requesting position..."),navigator.geolocation.getCurrentPosition(r=>{const{latitude:n,longitude:a}=r.coords;console.log("‚úÖ Geolocation success!"),console.log("üìç Raw position data:",{latitude:n,longitude:a,accuracy:r.coords.accuracy,timestamp:new Date(r.timestamp).toISOString()});const o=[n,a];console.log("üéØ Setting user location to:",o),console.log("üó∫Ô∏è Setting map center to:",o),se(o),te(o),f(j=>({...j,latitude:n,longitude:a})),console.log("üíæ Updated newPlace coordinates:",{latitude:n,longitude:a}),i({type:"success",text:s("map.locationFound")}),S(!1)},r=>{console.warn("‚ùå Geolocation error occurred:"),console.warn("Error code:",r.code),console.warn("Error message:",r.message),console.warn("Full error object:",r);let n=s("map.locationError");switch(r.code){case r.PERMISSION_DENIED:n+=" "+s("map.locationDenied"),console.log("üö´ User denied geolocation permission");break;case r.POSITION_UNAVAILABLE:n+=" "+s("map.locationUnavailable"),console.log("üìç Position unavailable (GPS/network issue)");break;case r.TIMEOUT:n+=" "+s("map.locationTimeout"),console.log("‚è∞ Geolocation request timed out");break;default:n+=" "+s("errors.unexpectedError"),console.log("‚ùì Unknown geolocation error");break}console.log("üó∫Ô∏è Falling back to default location (Paris)"),i({type:"info",text:n+" "+s("map.showingDefault")}),S(!1)},{enableHighAccuracy:!0,timeout:15e3,maximumAge:6e5}),console.log("‚öôÔ∏è Geolocation options:",{enableHighAccuracy:!0,timeout:15e3,maximumAge:6e5})})()},[s]),l.useEffect(()=>{console.log("üó∫Ô∏è Map center changed to:",m)},[m]),l.useEffect(()=>{console.log("üë§ User location changed to:",c)},[c]),l.useEffect(()=>{if(g){const t=setTimeout(()=>i(null),5e3);return()=>clearTimeout(t)}},[g]);const G=async()=>{F(!0),q(!0);try{let t=_.from("places").select("*");w&&(t=t.eq("interest",w));const{data:r,error:n}=await t;if(n)console.error("Error fetching places:",n),i({type:"error",text:`${s("errors.unexpectedError")}: ${n.message}`}),P([]);else{let a=r||[];c&&a.length>0?(a=a.filter(o=>$(c[0],c[1],o.latitude,o.longitude)<=h),a.length!==(r||[]).length?i({type:"info",text:s("map.placesInRadius",{count:a.length,total:(r||[]).length,radius:h})}):a.length>0&&i({type:"success",text:s("map.placesInRadiusSuccess",{count:a.length,radius:h})})):a.length>0?i({type:"success",text:s("map.placesLoaded",{count:a.length})}):i({type:"info",text:s("map.noPlaces")}),P(a)}try{const{data:a,error:o}=await me.getPublicProfiles(1e3);if(o)console.error("Error loading public profiles:",o),M(null);else{const j=(a==null?void 0:a.length)||0;M(j),console.log(`üìä Found ${j} public profiles`)}}catch(a){console.error("Error fetching public profiles:",a),M(null)}}catch(t){console.error("Error fetching places:",t),i({type:"error",text:s("errors.unexpectedError")}),P([])}finally{F(!1),q(!1)}},ae=async t=>{t.preventDefault();const r=v(x.name,d.language),n=v(x.description,d.language);if(!r.trim()){i({type:"error",text:s("map.validation.nameRequired")});return}if(!n.trim()){i({type:"error",text:s("map.validation.descriptionRequired")});return}if(!x.interest){i({type:"error",text:s("map.validation.interestRequired")});return}T(!0),i(null);try{console.log("Adding place:",x);const{data:a,error:o}=await _.from("places").insert([x]).select();o?(console.error("Error adding place:",o),i({type:"error",text:`${s("map.errorAddingPlace")}: ${o.message||s("errors.unknownDatabaseError")}`})):(console.log("Place added successfully:",a),f({name:{de:"",en:"",fr:""},description:{de:"",en:"",fr:""},latitude:c?c[0]:m[0],longitude:c?c[1]:m[1],interest:""}),y(!1),i({type:"success",text:s("map.placeAdded")}),G())}catch(a){console.error("Error adding place:",a);let o=s("map.unexpectedErrorAdding");if(a instanceof Error?o+=`: ${a.message}`:typeof a=="string"&&(o+=`: ${a}`),a&&typeof a=="object"&&"code"in a)switch(a.code){case"23505":o=s("map.placeAlreadyExists");break;case"42501":o=s("map.noPermissionToAdd");break;case"PGRST301":o=s("map.databaseConnectionFailed");break}i({type:"error",text:o})}finally{T(!1)}},re=(t,r)=>{k&&(C([t,r]),f(n=>({...n,latitude:t,longitude:r})),i({type:"info",text:s("map.positionSet")}))},oe=()=>{C(m),f(t=>({...t,latitude:m[0],longitude:m[1]})),y(!0),setTimeout(()=>{const t=document.querySelector("[data-place-form]");t&&t.scrollIntoView({behavior:"smooth",block:"start"})},100)},H=()=>{y(!1),C(null),f({name:{de:"",en:"",fr:""},description:{de:"",en:"",fr:""},latitude:m[0],longitude:m[1],interest:""})};return l.useEffect(()=>{G()},[w,h,c]),O?e.jsxs("div",{className:"min-h-screen bg-cream flex items-center justify-center relative",children:[e.jsxs("div",{className:"fixed inset-0 z-0",children:[e.jsx("img",{src:"/topglobe copy.jpg",alt:"Werte‚Ä¢Kreis Background",className:"w-full h-full object-cover object-center sm:object-center lg:object-center",style:{imageRendering:"crisp-edges",filter:"contrast(1.1) brightness(1.05) saturate(1.1)",transform:"scale(1.1)",transformOrigin:"center center"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-akaroa-100/60 via-akaroa-200/60 to-akaroa-300/70"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-rhino/8 via-transparent to-walnut/12"})]}),e.jsxs("div",{className:"relative z-10 text-center space-y-4",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-rhino mx-auto"}),e.jsx("p",{className:"text-rhino font-medium",children:s("map.detectingLocation")})]})]}):e.jsxs("div",{className:"min-h-screen bg-cream relative",children:[e.jsxs("div",{className:"fixed inset-0 z-0",children:[e.jsx("img",{src:"/topglobe copy.jpg",alt:"Werte‚Ä¢Kreis Background",className:"w-full h-full object-cover object-center sm:object-center lg:object-center",style:{imageRendering:"crisp-edges",filter:"contrast(1.1) brightness(1.05) saturate(1.1)",transform:"scale(1.1)",transformOrigin:"center center"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-akaroa-100/60 via-akaroa-200/60 to-akaroa-300/70"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-rhino/8 via-transparent to-walnut/12"})]}),e.jsx("div",{className:"bg-gradient-to-r from-rhino-900/70 to-rhino-800/70 backdrop-blur-[15px] shadow-glass-nav border-b border-rhino-700/50 relative z-10",children:e.jsx("div",{className:"max-w-md mx-auto px-6 py-5",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>p("home"),className:"p-2 hover:bg-rhino-700/80 backdrop-blur-[5px] rounded-lg transition-all duration-200 active:scale-95 lg:flex hidden shadow-glass-button-sm",title:s("common.backToHome"),children:e.jsx(X,{size:20,className:"text-cream"})}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(ie,{size:24,className:"text-cream"}),e.jsx("h1",{className:"text-2xl font-medium font-logo text-cream tracking-wide",children:s("map.title")})]})]}),e.jsx("button",{onClick:()=>{oe()},className:"p-2 rounded-lg transition-all duration-200 backdrop-blur-[5px] shadow-glass-button-sm hover:shadow-glass-button bg-white/15 text-white hover:bg-white/25 active:scale-95",title:"Besonderen Ort hinzuf√ºgen",children:e.jsx(Y,{size:24})})]})})}),e.jsxs("div",{className:"max-w-md lg:max-w-5xl mx-auto px-3 py-6 pb-24 md:px-6 space-y-6 relative z-10",children:[e.jsx("div",{className:"lg:flex hidden",children:e.jsxs("button",{onClick:()=>p("home"),className:"bg-akaroa-100/70 backdrop-blur-[8px] text-rhino hover:bg-akaroa-200/80 rounded-lg transition-all duration-200 p-2 flex items-center space-x-2 shadow-glass-button hover:shadow-glass-button-hover border border-sandstone-300/50 hover:border-sandstone-300/60 transform hover:scale-[1.02]",title:s("common.backToHome"),children:[e.jsx(X,{size:20}),e.jsx("span",{className:"text-sm font-medium",children:s("common.home")})]})}),g&&e.jsxs("div",{className:`rounded-lg p-4 flex items-center space-x-3 backdrop-blur-[5px] ${g.type==="success"?"bg-success-50/80 text-success-700 border border-success-200/70":g.type==="error"?"bg-error-50/80 text-error-700 border border-error-200/70":"bg-desert-50/80 text-desert-700 border border-desert-200/70"}`,children:[g.type==="success"&&e.jsx(be,{size:20,className:"text-success-600"}),g.type==="error"&&e.jsx(J,{size:20,className:"text-error-600"}),g.type==="info"&&e.jsx(J,{size:20,className:"text-desert-600"}),e.jsx("span",{className:"text-sm font-medium text-rhino",children:g.text})]}),!ce,e.jsx("div",{className:"bg-akaroa-100/70 backdrop-blur-[10px] rounded-lg p-4 border border-sandstone-300/50 shadow-glass-card",children:e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-sm text-desert text-center leading-relaxed",children:s("map.mapDescription")}),e.jsxs("div",{className:"bg-akaroa/60 rounded-lg p-4 border border-sandstone-300/40 shadow-md",children:[e.jsxs("h4",{className:"text-base font-semibold font-logo text-rhino mb-3",children:["üó∫Ô∏è ",s("map.whatYouCanDo"),":"]}),e.jsxs("ul",{className:"text-sm text-walnut space-y-2",children:[e.jsxs("li",{children:["‚Ä¢ ",e.jsxs("strong",{children:[s("map.guide.discover"),":"]})," ",s("map.guide.discoverDesc")]}),e.jsxs("li",{children:["‚Ä¢ ",e.jsxs("strong",{children:[s("map.guide.adjustRadius"),":"]})," ",s("map.guide.adjustRadiusDesc")]}),e.jsxs("li",{children:["‚Ä¢ ",e.jsxs("strong",{children:[s("map.guide.filterInterests"),":"]})," ",s("map.guide.filterInterestsDesc")]}),e.jsxs("li",{children:["‚Ä¢ ",e.jsxs("strong",{children:[s("map.guide.shareOwnPlaces"),":"]})," ",s("map.guide.shareOwnPlacesDesc")]})]})]})]})}),e.jsxs("div",{className:"bg-cream/70 backdrop-blur-[15px] rounded-xl p-4 shadow-glass-card border border-sandstone-300/50 space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-walnut mb-2",children:[s("map.radius"),": ",h," km"]}),e.jsx("input",{type:"range",min:"5",max:"1000",value:h,onChange:t=>u(Number(t.target.value)),className:"w-full h-2 bg-akaroa-200 rounded-lg appearance-none cursor-pointer slider"}),e.jsxs("div",{className:"flex justify-between text-xs text-walnut mt-1",children:[e.jsx("span",{children:"5 km"}),e.jsx("span",{children:"1000 km"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-walnut mb-2",children:s("map.interestArea")}),e.jsxs("select",{value:w,onChange:t=>K(t.target.value),className:"w-full px-4 py-3 bg-cream/80 backdrop-blur-[5px] border border-sandstone-300/60 rounded-lg focus:outline-none focus:ring-2 focus:ring-rhino focus:border-transparent transition-all duration-200",children:[e.jsx("option",{value:"",children:s("map.allAreas")}),W.map(t=>e.jsx("option",{value:t,children:s(t)},t))]})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"text-walnut",children:[N.length," ",s("map.placesFound")]}),!E&&b!==null&&e.jsx("span",{className:"text-desert",children:b===0?s("map.noPublicProfiles"):b===1?s("map.oneLikeMinded"):s("map.likeMindedCount",{count:b})}),E&&e.jsxs("span",{className:"text-walnut text-xs flex items-center space-x-1",children:[e.jsx(I,{size:12,className:"animate-spin"}),e.jsx("span",{children:s("map.loadingCommunity")})]})]})]}),e.jsx("div",{className:"bg-cream/70 backdrop-blur-[15px] rounded-xl overflow-hidden shadow-glass-card border border-sandstone-300/50",children:e.jsxs("div",{className:"h-80 lg:h-96 relative",children:[ee&&e.jsx("div",{className:"absolute inset-0 bg-cream/80 backdrop-blur-sm z-10 flex items-center justify-center",children:e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx(I,{size:24,className:"animate-spin text-rhino mx-auto"}),e.jsx("p",{className:"text-sm text-rhino",children:s("common.loading")})]})}),e.jsxs(ue,{center:m,zoom:10,style:{height:"100%",width:"100%"},className:"rounded-xl",children:[e.jsx(xe,{attribution:'¬© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),e.jsx(Ne,{center:m,radius:h}),e.jsx(ve,{onMapClick:re}),c&&e.jsx(A,{position:c,icon:z("#E07A5F"),children:e.jsx(L,{children:e.jsx("div",{className:"text-center",children:e.jsx("p",{className:"font-medium text-rhino",children:s("map.yourLocation")})})})}),k&&U&&e.jsx(A,{position:U,icon:z("#007bff"),children:e.jsx(L,{children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"font-medium text-rhino",children:s("map.newPlacePosition")}),e.jsx("p",{className:"text-sm text-walnut",children:s("map.clickToAdjust")})]})})}),N.map(t=>e.jsx(A,{position:[t.latitude,t.longitude],icon:z("#6F481C"),children:e.jsx(L,{children:e.jsxs("div",{className:"space-y-2 min-w-[200px]",children:[e.jsx("h3",{className:"font-semibold text-rhino",children:v(t.name,d.language)}),e.jsx("p",{className:"text-sm text-walnut",children:v(t.description,d.language)}),e.jsx("div",{className:"flex items-center space-x-2 text-xs text-desert",children:e.jsx("span",{className:"bg-desert/20 px-2 py-1 rounded",children:Z(t.interest)?s(t.interest):t.interest})}),e.jsxs("p",{className:"text-xs text-walnut",children:[s("map.addedOn")," ",ge(t.created_at)]})]})})},t.id))]})]})}),k&&e.jsxs("div",{"data-place-form":!0,className:"bg-cream/70 backdrop-blur-[15px] rounded-xl p-6 shadow-glass-card border border-sandstone-300/50",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[e.jsx(Y,{size:20,className:"text-rhino"}),e.jsx("h3",{className:"font-medium font-logo text-rhino",children:s("map.addPlace")}),e.jsx("div",{className:"flex-1"}),e.jsx("button",{onClick:()=>y(!1),onClick:H,className:"p-1 hover:bg-akaroa-100/70 backdrop-blur-[5px] rounded-lg transition-all duration-200 shadow-glass-button-sm",children:e.jsx(fe,{size:18,className:"text-walnut"})})]}),e.jsx("div",{className:"mb-4 bg-desert/20 backdrop-blur-[5px] rounded-lg p-3 shadow-glass-summary border border-desert/30",children:e.jsx("p",{className:"text-sm text-desert text-center",children:s("map.addPlaceInstructions")})}),e.jsxs("form",{onSubmit:ae,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-walnut mb-2",children:[s("map.placeName")," *"]}),e.jsx("input",{type:"text",value:v(x.name,d.language),onChange:t=>f(r=>({...r,name:{...r.name,[d.language]:t.target.value}})),className:"w-full px-4 py-3 bg-cream/80 backdrop-blur-[5px] border border-sandstone-300/60 rounded-lg focus:outline-none focus:ring-2 focus:ring-rhino focus:border-transparent transition-all duration-200",placeholder:s("map.placeNamePlaceholder"),required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-walnut mb-2",children:[s("map.placeDescription")," *"]}),e.jsx("textarea",{value:v(x.description,d.language),onChange:t=>f(r=>({...r,description:{...r.description,[d.language]:t.target.value}})),className:"w-full px-4 py-3 bg-cream/80 backdrop-blur-[5px] border border-sandstone-300/60 rounded-lg focus:outline-none focus:ring-2 focus:ring-rhino focus:border-transparent transition-all duration-200 resize-none",rows:3,placeholder:s("map.placeDescriptionPlaceholder"),required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-walnut mb-2",children:[s("map.interestArea")," *"]}),e.jsxs("select",{value:x.interest,onChange:t=>f(r=>({...r,interest:t.target.value})),className:"w-full px-4 py-3 bg-cream/80 backdrop-blur-[5px] border border-sandstone-300/60 rounded-lg focus:outline-none focus:ring-2 focus:ring-rhino focus:border-transparent transition-all duration-200",required:!0,children:[e.jsx("option",{value:"",children:s("map.selectArea")}),W.map(t=>e.jsx("option",{value:t,children:s(t)},t))]})]}),e.jsxs("div",{className:"bg-akaroa-100/70 backdrop-blur-[5px] rounded-lg p-3 shadow-glass-summary border border-akaroa-200/50",children:[e.jsxs("p",{className:"text-sm text-walnut",children:[e.jsxs("strong",{children:[s("map.currentPosition"),":"]})," ",x.latitude.toFixed(4),", ",x.longitude.toFixed(4)]}),e.jsx("p",{className:"text-xs text-walnut mt-1",children:s("map.clickToSetPosition")})]}),e.jsxs("div",{className:"flex space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:H,className:"flex-1 bg-walnut/10 text-walnut py-3 px-6 rounded-lg font-medium hover:bg-walnut/20 transition-colors duration-200",children:s("common.cancel")}),e.jsx("button",{type:"submit",disabled:R,className:"flex-1 bg-rhino/70 backdrop-blur-[8px] text-cream py-3 px-6 rounded-lg font-medium shadow-glass-button hover:shadow-glass-button-hover transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2 border border-rhino-700/50 hover:border-rhino-700/60 transform hover:scale-[1.02] disabled:transform-none",children:R?e.jsxs(e.Fragment,{children:[e.jsx(I,{size:18,className:"animate-spin"}),e.jsx("span",{children:s("common.saving")})]}):e.jsxs(e.Fragment,{children:[e.jsx(je,{size:18}),e.jsx("span",{children:s("common.add")})]})})]})]})]}),!c&&!O&&e.jsx("div",{className:"bg-desert/20 backdrop-blur-[10px] rounded-lg p-4 shadow-glass-card border border-desert/30 text-center",children:e.jsxs("div",{className:"space-y-3",children:[e.jsx(Q,{size:32,className:"text-desert mx-auto"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium font-logo text-rhino mb-2",children:s("map.allowLocationForBetter")}),e.jsx("p",{className:"text-sm text-walnut leading-relaxed",children:s("map.allowLocationDescription")})]}),e.jsxs("button",{onClick:()=>window.location.reload(),className:"bg-desert/70 backdrop-blur-[8px] text-white py-3 px-6 rounded-xl font-semibold shadow-glass-button hover:shadow-glass-button-hover transform hover:scale-[1.02] transition-all duration-200 flex items-center justify-center space-x-2 mx-auto border border-desert-600/50 hover:border-desert-600/60",children:[e.jsx(Q,{size:18}),e.jsx("span",{children:s("map.allowLocationForReal")})]})]})}),N.length>0&&e.jsxs("div",{className:"bg-cream/70 backdrop-blur-[15px] rounded-xl p-6 shadow-glass-card border border-sandstone-300/50",children:[e.jsx("h3",{className:"font-medium font-logo text-rhino mb-4",children:s("map.nearbyPlaces")}),e.jsxs("div",{className:"space-y-3",children:[N.slice(0,5).map(t=>e.jsxs("div",{className:"bg-akaroa-100/70 backdrop-blur-[5px] rounded-lg p-4 shadow-glass-summary border border-akaroa-200/50",children:[e.jsx("h4",{className:"font-medium text-rhino mb-1",children:v(t.name,d.language)}),e.jsx("p",{className:"text-sm text-walnut mb-2",children:v(t.description,d.language)}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xs bg-desert/20 text-desert px-2 py-1 rounded",children:Z(t.interest)?s(t.interest):t.interest}),c&&e.jsxs("span",{className:"text-xs text-walnut",children:[$(c[0],c[1],t.latitude,t.longitude).toFixed(1)," km"]})]})]},t.id)),N.length>5&&e.jsx("p",{className:"text-sm text-walnut text-center",children:s("map.andMorePlaces",{count:N.length-5})})]})]}),!E&&b!==null&&b>0&&e.jsxs("div",{className:"bg-success-50/80 backdrop-blur-[10px] rounded-lg p-4 shadow-glass-card border border-success-200/50 text-center",children:[e.jsx(de,{size:24,className:"text-success-600 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-success-700 font-medium",children:s("map.youAreNotAlone")}),e.jsx("p",{className:"text-xs text-success-600 mt-1",children:b===1?s("map.oneLikeMinded"):s("map.likeMindedCount",{count:b})})]})]})]})}export{ze as default};
